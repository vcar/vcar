$(function(){var b=$("#upload ul");$("#drop a").click(function(){$(this).parent().find("input").click()});$("#upload").fileupload({dropZone:$("#drop"),add:function(g,f){var c=$('<li class="working"><input type="text" value="0" data-width="48" data-height="48" data-fgColor="#0788a5" data-readOnly="1" data-bgColor="#3e4043" /><p></p><span></span></li>');c.find("p").text(f.files[0].name).append("<i>"+a(f.files[0].size)+"</i>");f.context=c.appendTo(b);c.find("input").knob();c.find("span").click(function(){if(c.hasClass("working")){d.abort()}c.fadeOut(function(){c.remove()})});var d=f.submit()},progress:function(f,d){var c=parseInt(d.loaded/d.total*100,10);d.context.find("input").val(c).change();if(c==100){d.context.removeClass("working")}},fail:function(d,c){c.context.addClass("error")}});$(document).on("drop dragover",function(c){c.preventDefault()});function a(c){if(typeof c!=="number"){return""}if(c>=1000000000){return(c/1000000000).toFixed(2)+" GB"}if(c>=1000000){return(c/1000000).toFixed(2)+" MB"}return(c/1000).toFixed(2)+" KB"}});